# CLAUDE.md - w-homepage-react Project Rules

## Project Info

- **Name**: w-homepage-react
- **Generated by**: CodeB CLI v3.2.8
- **Date**: 2026-01-06

## Critical Rules

### 1. NEVER Run Dangerous Commands Directly

```bash
# 절대 금지 (Hooks가 차단함)
podman rm -f <container>       # 직접 컨테이너 삭제
podman volume rm <volume>      # 직접 볼륨 삭제
docker-compose down -v         # 볼륨 포함 삭제
rm -rf /opt/codeb/projects/*   # 프로젝트 폴더 삭제
```

### 2. ALWAYS Use CLI Commands

```bash
# 올바른 방법
we workflow init w-homepage-react     # 프로젝트 초기화
we deploy w-homepage-react            # 배포
we workflow stop w-homepage-react     # 서비스 중지
we workflow scan w-homepage-react     # 상태 확인
we ssot sync                        # 서버 데이터 동기화
```

### 3. SSH Only to Allowed Servers

허용된 서버만 SSH 접속 가능:
- 158.247.203.55 (App - app.codeb.kr)
- 141.164.42.213 (Streaming - ws.codeb.kr)
- 64.176.226.119 (Storage - db.codeb.kr)
- 141.164.37.63 (Backup - backup.codeb.kr)

### 4. Environment File Protection

- NEVER overwrite existing .env files without backup
- Protected variables: DATABASE_URL, REDIS_URL, POSTGRES_*
- Always check for existing .env before generating new one

## Quick Reference

```bash
# 프로젝트 초기화
we workflow init w-homepage-react --type nextjs --database --redis

# 서버 상태 확인
we ssot status
we ssot projects
we workflow scan w-homepage-react

# 배포
we deploy w-homepage-react --environment staging

# 도메인 설정
we domain setup w-homepage-react.codeb.dev --ssl
```

## Permission Model

- **Admin**: SSH + deploy + server settings
- **Developer**: Git Push only → GitHub Actions → auto deploy
